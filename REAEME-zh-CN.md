简体中文 | [English](./README.md)

# image-preview
一款面向移动web app的图片预览插件.

### 特点:
1. 🍉 支持绝大部分手势操作.
2. 🎃 旋转、缩放图片.
3. 🍓 图片默认懒加载.
4. 🍂 基于webgl.
   
### 用法
有两种:
#### 1. 复制release目录
*  `release/image-preview` 目录下编译了适配不同模块系统的版本 , 包括 AMD,CommonJS,ES6,UMD,IIFE. 你可以选择适合自己的一个.
#### 2.下载整个项目:
* 克隆下来 ,然后跑命令 `npm i & npm run build`
* 对于不同的模块系统:
* `release/image-preview` 目录下编译了适配不同模块系统的版本 , 包括 AMD,CommonJS,ES6,UMD,IIFE. 你可以选择适合自己的一个.


### 引入 
  * script (in iife or umd module system,use namespace imagePreviewModule):
    ``` html
    <script src="js/image-preview-iife.js">
    <script>
      new imagePreviewModule.ImagePreview({
        // something same with below usage
      })
    </script>
    ```
  * esmodule:
    ```javascript
     import {ImagePreview} from 'js/image-preview-esm.js'
    ```
#### 用法:
html:
```html
  <div class="imageWraper">
    <img data-src="/images/IMG_0512.JPG" src="/images/IMG_0512.JPG">
    <img data-src="/images/main_body3.png" src="/images/main_body3.png">
  </div>
```
javascript:
``` javascript
//第一种生成方法:
let imgObj = new ImagePreview({
  selector:`.imageWraper img`
})
//第二种生成方法:
let imgObj =  new ImagePreview({
  imgs:[
    'imgsrc',
    'imgsrc',
    'imgsrc'
  ]
})
//then show n-th picture,use
imgObj.show(n);

// Distroy image preview instance. Remove HTML generated by this ImagePreview instance and other resources. For better performance, then you can set imgObj = null;
imgObj.distory();

```
上面的代码展示了生成image preview实例的两种方法, 第一种方法会在给定的HTML元素上自动绑定点击事件, 而第二种则需要自己手动绑定触发事件. 实际上, 这是很简单的, 你只需要在你代码需要打开image preview的地方调用 `imgObj.show(n)` 就好.

### 例子
[click here](https://daxiazilong.github.io/image-preview/index.html) . 

### Api
* `new ImagePreview({imgs?: Array<string|HTMLImageElement>}) ` 
* `new ImagePreview({selector?: string}) ` 
  
   生成一个image preview实例.
* `imagePreview.prototype.show(index:number)` 
   打开第index个图片, index 从 0开始.

* `imagePreview.prototype.insertImageAfter( image: string | HTMLImageElement , index: number )` 
   在index之后插入一张新图, 如果 index < 0, 新图会在0的位置插入. 如果index超过imgs的长度会被插入到最后一个位置.
   * 注意: 如果 参数image是HTMLImageElement, 并且存在跨域, 你最好设置一下 [crossOrigin](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/crossOrigin) 属性.

* `imagePreview.prototype.delImage(index:number)` 
  删除第index个图片. Index < 0 会被设置为 0, 超过imgs的长度会被设置成imgs的最后一个元素的index.

* `imagePreview.prototype.destroy()` 
  销毁 image preview 实例. 移除它生成的HTML元素和其他资源. 为了更好的性能体验, 你可以接着设置 imgObj = null;
  
### 交流
加入qq群977121370一起哔哔哔.
